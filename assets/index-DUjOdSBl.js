import{m as Ne,a as Oe,e as we,f as Ae,R as Ee,_ as Me,b as Ce,u as De,c as Ue,d as $e,g as Le,h as Ve,i as Be,P as Se,j as qe,k as Fe,l as Ke}from"./business-CYGO-Esk.js";import{ax as je,av as he,o as _,b as O,e as q,ay as y,d as xe,az as ve,aA as ze,a as V,$ as t,p as We,f as e,_ as me,r as Y,ae as ye,c as I,w as a,g as N,t as x,h as l,J as B,K as S,Q as C,aB as Ge,ar as He,I as Ye,aC as Qe,aD as Xe,B as Q,aE as Je,aF as Ze,aG as be,aH as ea}from"./index-Bd7waQnO.js";import{u as aa,a as na,_ as ta,F as la}from"./form-utxDRKEj.js";import{S as oa,C as ua}from"./index-D8fl3xnZ.js";import{_ as sa,a as ra}from"./index-DM1RhyVz.js";import{T as de}from"./index-5BxRhnMZ.js";import"./Col-BBDQyIt-.js";import"./responsiveObserve-Bb_p94FE.js";const Te={Y:"common.yesOrNo.yes",N:"common.yesOrNo.no"};je(Te);const ia={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"};function da(s,c){return _(),O("svg",ia,c[0]||(c[0]=[q("path",{fill:"currentColor",d:"M18 13H6c-.55 0-1-.45-1-1s.45-1 1-1h12c.55 0 1 .45 1 1s-.45 1-1 1"},null,-1)]))}const ma=he({name:"ic-round-remove",render:da}),ca={class:"inline-block",viewBox:"0 0 32 32",width:"1em",height:"1em"};function pa(s,c){return _(),O("svg",ca,c[0]||(c[0]=[q("path",{fill:"currentColor",d:"M17 15V8h-2v7H8v2h7v7h2v-7h7v-2z"},null,-1)]))}const ga=he({name:"carbon-add",render:pa});function _a(){return Object.keys(Object.assign({"/src/assets/svg-icon/activity.svg":()=>y(()=>import("./activity-B4XY664I.js"),[]),"/src/assets/svg-icon/at-sign.svg":()=>y(()=>import("./at-sign-DvqQw7Qx.js"),[]),"/src/assets/svg-icon/avatar.svg":()=>y(()=>import("./avatar-BbFSNVZr.js"),[]),"/src/assets/svg-icon/banner.svg":()=>y(()=>import("./banner-D7Eccv1q.js"),[]),"/src/assets/svg-icon/cast.svg":()=>y(()=>import("./cast-n3EmpXB4.js"),[]),"/src/assets/svg-icon/chrome.svg":()=>y(()=>import("./chrome-BM_Le6p_.js"),[]),"/src/assets/svg-icon/copy.svg":()=>y(()=>import("./copy-BsYpLlfM.js"),[]),"/src/assets/svg-icon/custom-icon.svg":()=>y(()=>import("./custom-icon-857Ak5pp.js"),[]),"/src/assets/svg-icon/empty-data.svg":()=>y(()=>import("./empty-data-lh0Icg-E.js"),[]),"/src/assets/svg-icon/expectation.svg":()=>y(()=>import("./expectation-DoylsPXp.js"),[]),"/src/assets/svg-icon/heart.svg":()=>y(()=>import("./heart-DOH2U7VV.js"),[]),"/src/assets/svg-icon/logo.svg":()=>y(()=>import("./logo-BeLY4cv9.js"),[]),"/src/assets/svg-icon/network-error.svg":()=>y(()=>import("./network-error-C9IW7Nm7.js"),[]),"/src/assets/svg-icon/no-icon.svg":()=>y(()=>import("./no-icon-B_ubb7OU.js"),[]),"/src/assets/svg-icon/no-permission.svg":()=>y(()=>import("./no-permission-CocZkmj6.js"),[]),"/src/assets/svg-icon/not-found.svg":()=>y(()=>import("./not-found-DMJec3Xa.js"),[]),"/src/assets/svg-icon/service-error.svg":()=>y(()=>import("./service-error-CJGQKuLv.js"),[]),"/src/assets/svg-icon/wind.svg":()=>y(()=>import("./wind-Dy5zdHKW.js"),[])})).map(g=>{var T;return((T=g.split("/").at(-1))==null?void 0:T.replace(".svg",""))||""}).filter(Boolean)}const X="layout.",J="view.",Ie="$";function fa(s){let c="",g="";const[T="",w=""]=(s==null?void 0:s.split(Ie))||[];return c=va(T),g=ya(w||T),{layout:c,page:g}}function va(s){return s.startsWith(X)?s.replace(X,""):""}function ya(s){return s.startsWith(J)?s.replace(J,""):""}function ba(s,c){const g=!!s,T=!!c;return g&&T?`${X}${s}${Ie}${J}${c}`:g?`${X}${s}`:T?`${J}${c}`:""}function ha(s){return`/${s.replace(/_/g,"/")}`}function xa(s){const[c,g=""]=s.split("/:");return{path:c,param:g}}function Ta(s,c){return c.trim()?`${s}/:${c}`:s}const Ia={class:"h-480px"},ka={class:"ml-8px"},Pa={class:"ml-8px"},Ra=xe({name:"MenuOperateModal",__name:"menu-operate-modal",props:ve({operateType:{},rowData:{},allPages:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:ve(["submitted"],["update:visible"]),setup(s,{emit:c}){const g=s,T=c,w=ze(s,"visible"),{formRef:Z,validate:U,resetFields:F}=aa(),{defaultRequiredRule:E}=na(),ee=V(()=>({add:t("page.manage.menu.addMenu"),addChild:t("page.manage.menu.addChildMenu"),edit:t("page.manage.menu.editMenu")})[g.operateType]),n=We(K());function K(){return{menuType:"1",menuName:"",routeName:"",routePath:"",pathParam:"",component:"",layout:"",page:"",i18nKey:null,icon:"",iconType:"1",parentId:0,status:"1",keepAlive:!1,constant:!1,order:0,href:null,hideInMenu:!1,activeMenu:null,multiTab:!1,fixedIndexInTab:null,query:[],buttons:[]}}const ae={menuName:E,status:E,routeName:E,routePath:E},ne=V(()=>g.operateType==="edit"),te=_a().map(m=>({label:()=>e("div",{class:"flex-y-center gap-16px"},[e(me,{localIcon:m,class:"text-icon"},null),e("span",null,[m])]),value:m})),M=V(()=>n.parentId===0),le=V(()=>n.menuType==="2"),j=V(()=>{const m=[...g.allPages];return n.routeName&&!m.includes(n.routeName)&&m.unshift(n.routeName),m.map(v=>({label:v,value:v}))}),oe=[{label:"base",value:"base"},{label:"blank",value:"blank"}],$=Y([]);async function ue(){const{error:m,data:u}=await Ae();if(!m){const v=u.map(b=>({label:b.roleName,value:b.roleCode}));$.value=[...v]}}function z(m){n.query.splice(m+1,0,{key:"",value:""})}function W(m){n.query.splice(m,1)}function G(m){n.buttons.splice(m+1,0,{code:"",desc:""})}function se(m){n.buttons.splice(m,1)}async function r(){if(Object.assign(n,K()),!!g.rowData){if(await He(),g.operateType==="addChild"){const{id:m}=g.rowData;Object.assign(n,{parentId:m})}if(g.operateType==="edit"){const{component:m,...u}=g.rowData,{layout:v,page:b}=fa(m),{path:d,param:i}=xa(u.routePath);Object.assign(n,u,{layout:v,page:b,routePath:d,pathParam:i})}n.query||(n.query=[]),n.buttons||(n.buttons=[])}}function p(){w.value=!1}function f(){n.routeName?n.routePath=ha(n.routeName):n.routePath=""}function h(){n.routeName?n.i18nKey=`route.${n.routeName}`:n.i18nKey=null}function re(){const{layout:m,page:u,pathParam:v,...b}=n,d=ba(m,u),i=Ta(n.routePath,v);return b.component=d,b.routePath=i,b}async function L(){var u;await U();const m=re();console.log("params: ",m),(u=window.$message)==null||u.success(t("common.updateSuccess")),p(),T("submitted")}return ye(w,()=>{w.value&&(r(),F(),ue())}),ye(()=>n.routeName,()=>{f(),h()}),(m,u)=>{const v=Ee,b=Me,d=ta,i=sa,k=Ye,H=Qe,pe=Xe,ge=ga,A=Q,_e=Ce,fe=ma,ie=oa,ke=ra,Pe=la,Re=Je;return _(),I(Re,{open:w.value,"onUpdate:open":u[22]||(u[22]=o=>w.value=o),title:ee.value,width:"800px"},{footer:a(()=>[e(ie,{justify:"end",size:16},{default:a(()=>[e(A,{onClick:p},{default:a(()=>[N(x(l(t)("common.cancel")),1)]),_:1}),e(A,{type:"primary",onClick:L},{default:a(()=>[N(x(l(t)("common.confirm")),1)]),_:1})]),_:1})]),default:a(()=>[q("div",Ia,[e(l(Ge),null,{default:a(()=>[e(Pe,{ref_key:"formRef",ref:Z,model:n,rules:ae,"label-col":{lg:8,xs:4},"label-wrap":"",class:"pr-20px"},{default:a(()=>[e(ke,null,{default:a(()=>[e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.menuType"),name:"menuType"},{default:a(()=>[e(b,{value:n.menuType,"onUpdate:value":u[0]||(u[0]=o=>n.menuType=o),disabled:ne.value},{default:a(()=>[(_(!0),O(S,null,B(l(Ne),o=>(_(),I(v,{key:o.value,value:o.value},{default:a(()=>[N(x(l(t)(o.label)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","disabled"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.menuName"),name:"menuName"},{default:a(()=>[e(k,{value:n.menuName,"onUpdate:value":u[1]||(u[1]=o=>n.menuName=o),placeholder:l(t)("page.manage.menu.form.menuName")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.routeName"),name:"routeName"},{default:a(()=>[e(k,{value:n.routeName,"onUpdate:value":u[2]||(u[2]=o=>n.routeName=o),placeholder:l(t)("page.manage.menu.form.routeName")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.routePath"),name:"routePath"},{default:a(()=>[e(k,{value:n.routePath,"onUpdate:value":u[3]||(u[3]=o=>n.routePath=o),disabled:"",placeholder:l(t)("page.manage.menu.form.routePath")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.pathParam"),name:"pathParam"},{default:a(()=>[e(k,{value:n.pathParam,"onUpdate:value":u[4]||(u[4]=o=>n.pathParam=o),placeholder:l(t)("page.manage.menu.form.pathParam")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[M.value?(_(),I(d,{key:0,label:l(t)("page.manage.menu.layout"),name:"layout"},{default:a(()=>[e(H,{value:n.layout,"onUpdate:value":u[5]||(u[5]=o=>n.layout=o),options:oe,placeholder:l(t)("page.manage.menu.form.layout")},null,8,["value","placeholder"])]),_:1},8,["label"])):C("",!0)]),_:1}),le.value?(_(),I(i,{key:0,lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.page"),name:"page"},{default:a(()=>[e(H,{value:n.page,"onUpdate:value":u[6]||(u[6]=o=>n.page=o),options:j.value,placeholder:l(t)("page.manage.menu.form.page")},null,8,["value","options","placeholder"])]),_:1},8,["label"])]),_:1})):C("",!0),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.i18nKey"),name:"i18nKey"},{default:a(()=>[e(k,{value:n.i18nKey,"onUpdate:value":u[7]||(u[7]=o=>n.i18nKey=o),placeholder:l(t)("page.manage.menu.form.i18nKey")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.order"),name:"order"},{default:a(()=>[e(pe,{value:n.order,"onUpdate:value":u[8]||(u[8]=o=>n.order=o),class:"w-full",placeholder:l(t)("page.manage.menu.form.order")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.iconTypeTitle"),name:"iconType"},{default:a(()=>[e(b,{value:n.iconType,"onUpdate:value":u[9]||(u[9]=o=>n.iconType=o)},{default:a(()=>[(_(!0),O(S,null,B(l(Oe),o=>(_(),I(v,{key:o.value,value:o.value},{default:a(()=>[N(x(l(t)(o.label)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.icon"),name:"icon"},{default:a(()=>[n.iconType==="1"?(_(),I(k,{key:0,value:n.icon,"onUpdate:value":u[10]||(u[10]=o=>n.icon=o),placeholder:l(t)("page.manage.menu.form.icon"),class:"flex-1"},{suffix:a(()=>[n.icon?(_(),I(me,{key:0,icon:n.icon,class:"text-icon"},null,8,["icon"])):C("",!0)]),_:1},8,["value","placeholder"])):C("",!0),n.iconType==="2"?(_(),I(H,{key:1,value:n.icon,"onUpdate:value":u[11]||(u[11]=o=>n.icon=o),placeholder:l(t)("page.manage.menu.form.localIcon"),options:l(te)},null,8,["value","placeholder","options"])):C("",!0)]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.menuStatus"),name:"status"},{default:a(()=>[e(b,{value:n.status,"onUpdate:value":u[12]||(u[12]=o=>n.status=o)},{default:a(()=>[(_(!0),O(S,null,B(l(we),o=>(_(),I(v,{key:o.value,value:o.value},{default:a(()=>[N(x(l(t)(o.label)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.keepAlive"),name:"keepAlive"},{default:a(()=>[e(b,{value:n.keepAlive,"onUpdate:value":u[13]||(u[13]=o=>n.keepAlive=o)},{default:a(()=>[e(v,{value:!0},{default:a(()=>[N(x(l(t)("common.yesOrNo.yes")),1)]),_:1}),e(v,{value:!1},{default:a(()=>[N(x(l(t)("common.yesOrNo.no")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.constant"),name:"constant"},{default:a(()=>[e(b,{value:n.constant,"onUpdate:value":u[14]||(u[14]=o=>n.constant=o)},{default:a(()=>[e(v,{value:""},{default:a(()=>[N(x(l(t)("common.yesOrNo.yes")),1)]),_:1}),e(v,{value:!1},{default:a(()=>[N(x(l(t)("common.yesOrNo.no")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.href"),name:"href"},{default:a(()=>[e(k,{value:n.href,"onUpdate:value":u[15]||(u[15]=o=>n.href=o),placeholder:l(t)("page.manage.menu.form.href")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.hideInMenu"),name:"hideInMenu"},{default:a(()=>[e(b,{value:n.hideInMenu,"onUpdate:value":u[16]||(u[16]=o=>n.hideInMenu=o)},{default:a(()=>[e(v,{value:!0},{default:a(()=>[N(x(l(t)("common.yesOrNo.yes")),1)]),_:1}),e(v,{value:!1},{default:a(()=>[N(x(l(t)("common.yesOrNo.no")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"])]),_:1}),n.hideInMenu?(_(),I(i,{key:1,lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.activeMenu"),name:"activeMenu"},{default:a(()=>[e(H,{value:n.activeMenu,"onUpdate:value":u[17]||(u[17]=o=>n.activeMenu=o),options:j.value,clearable:"",placeholder:l(t)("page.manage.menu.form.activeMenu")},null,8,["value","options","placeholder"])]),_:1},8,["label"])]),_:1})):C("",!0),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.multiTab"),name:"multiTab"},{default:a(()=>[e(b,{value:n.multiTab,"onUpdate:value":u[18]||(u[18]=o=>n.multiTab=o)},{default:a(()=>[e(v,{value:"",label:l(t)("common.yesOrNo.yes")},null,8,["label"]),e(v,{value:!1,label:l(t)("common.yesOrNo.no")},null,8,["label"])]),_:1},8,["value"])]),_:1},8,["label"])]),_:1}),e(i,{lg:12,xs:24},{default:a(()=>[e(d,{label:l(t)("page.manage.menu.fixedIndexInTab"),name:"fixedIndexInTab"},{default:a(()=>[e(pe,{value:n.fixedIndexInTab,"onUpdate:value":u[19]||(u[19]=o=>n.fixedIndexInTab=o),class:"w-full",clearable:"",placeholder:l(t)("page.manage.menu.form.fixedIndexInTab")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),e(i,{span:24},{default:a(()=>[e(d,{"label-col":{span:4},label:l(t)("page.manage.menu.query"),name:"query"},{default:a(()=>[n.query.length===0?(_(),I(A,{key:0,type:"dashed",block:"",onClick:u[20]||(u[20]=o=>z(-1))},{icon:a(()=>[e(ge,{class:"align-sub text-icon"})]),default:a(()=>[q("span",ka,x(l(t)("common.add")),1)]),_:1})):(_(!0),O(S,{key:1},B(n.query,(o,P)=>(_(),O("div",{key:P,class:"flex gap-3"},[e(i,{span:9},{default:a(()=>[e(d,{name:["query",P,"key"]},{default:a(()=>[e(k,{value:o.key,"onUpdate:value":R=>o.key=R,placeholder:l(t)("page.manage.menu.form.queryKey"),class:"flex-1"},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["name"])]),_:2},1024),e(i,{span:9},{default:a(()=>[e(d,{name:["query",P,"value"]},{default:a(()=>[e(k,{value:o.value,"onUpdate:value":R=>o.value=R,placeholder:l(t)("page.manage.menu.form.queryValue"),class:"flex-1"},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["name"])]),_:2},1024),e(i,{span:5},{default:a(()=>[e(ie,{class:"ml-12px"},{default:a(()=>[e(A,{size:"middle",onClick:R=>z(P)},{icon:a(()=>[e(_e,{class:"align-sub text-icon"})]),_:2},1032,["onClick"]),e(A,{size:"middle",onClick:R=>W(P)},{icon:a(()=>[e(fe,{class:"align-sub text-icon"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),_:1},8,["label"])]),_:1}),e(i,{span:24},{default:a(()=>[e(d,{"label-col":{span:4},label:l(t)("page.manage.menu.button"),name:"buttons"},{default:a(()=>[n.buttons.length===0?(_(),I(A,{key:0,type:"dashed",block:"",onClick:u[21]||(u[21]=o=>G(-1))},{icon:a(()=>[e(ge,{class:"align-sub text-icon"})]),default:a(()=>[q("span",Pa,x(l(t)("common.add")),1)]),_:1})):(_(!0),O(S,{key:1},B(n.buttons,(o,P)=>(_(),O("div",{key:P,class:"flex gap-3"},[e(i,{span:9},{default:a(()=>[e(d,{name:["buttons",P,"code"]},{default:a(()=>[e(k,{value:o.code,"onUpdate:value":R=>o.code=R,placeholder:l(t)("page.manage.menu.form.buttonCode"),class:"flex-1"},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["name"])]),_:2},1024),e(i,{span:9},{default:a(()=>[e(d,{name:["buttons",P,"desc"]},{default:a(()=>[e(k,{value:o.desc,"onUpdate:value":R=>o.desc=R,placeholder:l(t)("page.manage.menu.form.buttonDesc"),class:"flex-1"},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["name"])]),_:2},1024),e(i,{span:5},{default:a(()=>[e(ie,{class:"ml-12px"},{default:a(()=>[e(A,{size:"middle",onClick:R=>G(P)},{icon:a(()=>[e(_e,{class:"align-sub text-icon"})]),_:2},1032,["onClick"]),e(A,{size:"middle",onClick:R=>se(P)},{icon:a(()=>[e(fe,{class:"align-sub text-icon"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])]),_:1},8,["open","title"])}}}),Na={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"};function D(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Object]"&&!ea(s)}const $a=xe({name:"manage_menu",__name:"index",setup(s){const{bool:c,setTrue:g}=Ze(),{tableWrapperRef:T,scrollConfig:w}=De(),{columns:Z,columnChecks:U,data:F,loading:E,pagination:ee,getData:n,getDataByPage:K}=Ue({apiFn:Le,columns:()=>[{key:"id",title:t("page.manage.menu.id"),align:"center",dataIndex:"id"},{key:"menuType",title:t("page.manage.menu.menuType"),align:"center",width:80,customRender:({record:r})=>{const p={1:"default",2:"processing"},f=t(Ve[r.menuType]);return e(de,{color:p[r.menuType]},D(f)?f:{default:()=>[f]})}},{key:"menuName",title:t("page.manage.menu.menuName"),align:"center",minWidth:120,customRender:({record:r})=>{const{i18nKey:p,menuName:f}=r,h=p?t(p):f;return e("span",null,[h])}},{key:"icon",title:t("page.manage.menu.icon"),align:"center",width:60,customRender:({record:r})=>{const p=r.iconType==="1"?r.icon:void 0,f=r.iconType==="2"?r.icon:void 0;return e("div",{class:"flex-center"},[e(me,{icon:p,localIcon:f,class:"text-icon"},null)])}},{key:"routeName",title:t("page.manage.menu.routeName"),align:"center",dataIndex:"routeName",minWidth:120},{key:"routePath",title:t("page.manage.menu.routePath"),align:"center",dataIndex:"routePath",minWidth:120},{key:"status",title:t("page.manage.menu.menuStatus"),align:"center",width:80,customRender:({record:r})=>{if(r.status===null)return null;const p={1:"success",2:"warning"},f=t(Be[r.status]);return e(de,{color:p[r.status]},D(f)?f:{default:()=>[f]})}},{key:"hideInMenu",title:t("page.manage.menu.hideInMenu"),dataIndex:"hideInMenu",align:"center",width:80,customRender:({record:r})=>{const p=r.hideInMenu?"Y":"N",f={Y:"error",N:"default"},h=t(Te[p]);return e(de,{color:f[p]},D(h)?h:{default:()=>[h]})}},{key:"parentId",dataIndex:"parentId",title:t("page.manage.menu.parentId"),width:90,align:"center"},{key:"order",dataIndex:"order",title:t("page.manage.menu.order"),align:"center",width:60},{key:"operate",title:t("common.operate"),align:"center",width:230,customRender:({record:r})=>{let p,f,h;return e("div",{class:"flex-center justify-end gap-8px"},[r.menuType==="1"&&e(Q,{type:"primary",ghost:!0,size:"small",onClick:()=>z(r)},D(p=t("page.manage.menu.addChildMenu"))?p:{default:()=>[p]}),e(Q,{type:"primary",ghost:!0,size:"small",onClick:()=>ue(r)},D(f=t("common.edit"))?f:{default:()=>[f]}),e(Se,{title:t("common.confirmDelete"),onConfirm:()=>oe(r.id)},{default:()=>[e(Q,{danger:!0,ghost:!0,size:"small"},D(h=t("common.delete"))?h:{default:()=>[h]})]})])}}]}),{checkedRowKeys:ae,rowSelection:ne,onBatchDeleted:ce,onDeleted:te}=$e(F,n),M=Y("add");function le(){M.value="add",g()}async function j(){ce()}function oe(r){console.log(r),te()}const $=Y(null);function ue(r){M.value="edit",$.value={...r},g()}function z(r){M.value="addChild",$.value={...r},g()}const W=Y([]);async function G(){const{data:r}=await Ke();W.value=r||[]}function se(){G()}return se(),(r,p)=>{const f=qe,h=Fe,re=ua;return _(),O("div",Na,[e(re,{title:l(t)("page.manage.menu.title"),bordered:!1,"body-style":{flex:1,overflow:"hidden"},class:"flex-col-stretch sm:flex-1-hidden card-wrapper"},{extra:a(()=>[e(f,{columns:l(U),"onUpdate:columns":p[0]||(p[0]=L=>be(U)?U.value=L:null),"disabled-delete":l(ae).length===0,loading:l(E),onAdd:le,onDelete:j,onRefresh:l(n)},null,8,["columns","disabled-delete","loading","onRefresh"])]),default:a(()=>[e(h,{ref_key:"tableWrapperRef",ref:T,columns:l(Z),"data-source":l(F),"row-selection":l(ne),size:"small",loading:l(E),"row-key":"id",scroll:l(w),pagination:l(ee),class:"h-full"},null,8,["columns","data-source","row-selection","loading","scroll","pagination"]),e(Ra,{visible:l(c),"onUpdate:visible":p[1]||(p[1]=L=>be(c)?c.value=L:null),"operate-type":M.value,"row-data":$.value,"all-pages":W.value,onSubmitted:l(K)},null,8,["visible","operate-type","row-data","all-pages","onSubmitted"])]),_:1},8,["title"])])}}});export{$a as default};
